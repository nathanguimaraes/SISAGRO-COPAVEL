import{c as rt,S as N,e as C,m as ot,d as at,f as lt,i as H,l as ht,g as ct,h as dt,j as V,G as ut,u as gt,k as ft,E as pt,n as mt,o as _t,p as yt,q as Ct,r as Tt,s as Pt,P as x,t as Et,v as xt,w as Mt,x as wt,y as $,z as Gt,A as vt,B as Lt,C as Ft,D as I,H as Rt,I as At,J as f,F as O,T as Nt,O as It,V as D,a as Z,M as Ot,b as St}from"./Vector-2b51d0e8.js";import{K,L as M,M as bt,N as kt,O as Yt,P as jt,Q as Xt,R as Ut,S as $t,T as v,U as Dt,_ as Zt,l as zt,E as Bt,o as Ht,a as Vt,c as Kt}from"./index-93a53149.js";function W(r,t,e,s,i,n,o){let a,l;const c=(e-t)/s;if(c===1)a=t;else if(c===2)a=t,l=i;else if(c!==0){let h=r[t],g=r[t+1],u=0;const p=[0];for(let T=t+s;T<e;T+=s){const E=r[T],y=r[T+1];u+=Math.sqrt((E-h)*(E-h)+(y-g)*(y-g)),p.push(u),h=E,g=y}const _=i*u,m=rt(p,_);m<0?(l=(_-p[-m-2])/(p[-m-1]-p[-m-2]),a=t+(-m-2)*s):a=t+m*s}o=o>1?o:2,n=n||new Array(o);for(let h=0;h<o;++h)n[h]=a===void 0?NaN:l===void 0?r[a+h]:K(r[a+h],r[a+s+h],l);return n}function S(r,t,e,s,i,n){if(e==t)return null;let o;if(i<r[t+s-1])return n?(o=r.slice(t,t+s),o[s-1]=i,o):null;if(r[e-1]<i)return n?(o=r.slice(e-s,e),o[s-1]=i,o):null;if(i==r[t+s-1])return r.slice(t,t+s);let a=t/s,l=e/s;for(;a<l;){const u=a+l>>1;i<r[(u+1)*s-1]?l=u:a=u+1}const c=r[a*s-1];if(i==c)return r.slice((a-1)*s,(a-1)*s+s);const h=r[(a+1)*s-1],g=(i-c)/(h-c);o=[];for(let u=0;u<s-1;++u)o.push(K(r[(a-1)*s+u],r[a*s+u],g));return o.push(i),o}function Wt(r,t,e,s,i,n,o){if(o)return S(r,t,e[e.length-1],s,i,n);let a;if(i<r[s-1])return n?(a=r.slice(0,s),a[s-1]=i,a):null;if(r[r.length-1]<i)return n?(a=r.slice(r.length-s),a[s-1]=i,a):null;for(let l=0,c=e.length;l<c;++l){const h=e[l];if(t!=h){if(i<r[t+s-1])return null;if(i<=r[h-1])return S(r,t,h,s,i,!1);t=h}}return null}class L extends N{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendCoordinate(t){this.flatCoordinates?C(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new L(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,s,i){return i<M(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ot(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),at(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,s,i))}forEachSegment(t){return lt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return this.layout!="XYM"&&this.layout!="XYZM"?null:(e=e!==void 0?e:!1,S(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return H(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return W(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return ht(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=ct(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new L(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return dt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=V(this.flatCoordinates,0,t,this.stride),this.changed()}}const b=L;class F extends ut{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(gt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(ft(this.geometries_[t],pt.CHANGE,this.changed,this))}clone(){const t=new F(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,s,i){if(i<M(this.getExtent(),t,e))return i;const n=this.geometries_;for(let o=0,a=n.length;o<a;++o)i=n[o].closestPointXY(t,e,s,i);return i}containsXY(t,e){const s=this.geometries_;for(let i=0,n=s.length;i<n;++i)if(s[i].containsXY(t,e))return!0;return!1}computeExtent(t){bt(t);const e=this.geometries_;for(let s=0,i=e.length;s<i;++s)kt(t,e[s].getExtent());return t}getGeometries(){return z(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let s=0,i=e.length;s<i;++s)e[s].getType()===this.getType()?t=t.concat(e[s].getGeometriesArrayRecursive()):t.push(e[s]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],s=this.geometries_;let i=!1;for(let n=0,o=s.length;n<o;++n){const a=s[n],l=a.getSimplifiedGeometry(t);e.push(l),l!==a&&(i=!0)}if(i){const n=new F(null);return n.setGeometriesArray(e),n}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let s=0,i=e.length;s<i;++s)if(e[s].intersectsExtent(t))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(t,e){const s=this.geometries_;for(let i=0,n=s.length;i<n;++i)s[i].rotate(t,e);this.changed()}scale(t,e,s){s||(s=Yt(this.getExtent()));const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)i[n].scale(t,e,s);this.changed()}setGeometries(t){this.setGeometriesArray(z(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let s=0,i=e.length;s<i;++s)e[s].applyTransform(t);this.changed()}translate(t,e){const s=this.geometries_;for(let i=0,n=s.length;i<n;++i)s[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function z(r){const t=[];for(let e=0,s=r.length;e<s;++e)t.push(r[e].clone());return t}const k=F;class R extends N{constructor(t,e,s){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(e!==void 0&&s)this.setFlatCoordinates(e,t),this.ends_=s;else{let i=this.getLayout();const n=t,o=[],a=[];for(let l=0,c=n.length;l<c;++l){const h=n[l];l===0&&(i=h.getLayout()),C(o,h.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(i,o),this.ends_=a}}appendLineString(t){this.flatCoordinates?C(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new R(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,s,i){return i<M(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(mt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_t(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,s,i))}getCoordinateAtM(t,e,s){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(e=e!==void 0?e:!1,s=s!==void 0?s:!1,Wt(this.flatCoordinates,0,this.ends_,this.stride,t,e,s))}getCoordinates(){return yt(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new b(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,s=this.layout,i=[];let n=0;for(let o=0,a=e.length;o<a;++o){const l=e[o],c=new b(t.slice(n,l),s);i.push(c),n=l}return i}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let s=0;const i=this.ends_,n=this.stride;for(let o=0,a=i.length;o<a;++o){const l=i[o],c=W(e,s,l,n,.5);C(t,c),s=l}return t}getSimplifiedGeometryInternal(t){const e=[],s=[];return e.length=Ct(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,s),new R(e,"XY",s)}getType(){return"MultiLineString"}intersectsExtent(t){return Tt(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=Pt(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}const qt=R;class Y extends N{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){this.flatCoordinates?C(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new Y(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,s,i){if(i<M(this.getExtent(),t,e))return i;const n=this.flatCoordinates,o=this.stride;for(let a=0,l=n.length;a<l;a+=o){const c=jt(t,e,n[a],n[a+1]);if(c<i){i=c;for(let h=0;h<o;++h)s[h]=n[a+h];s.length=o}}return i}getCoordinates(){return H(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new x(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,s=this.stride,i=[];for(let n=0,o=t.length;n<o;n+=s){const a=new x(t.slice(n,n+s),e);i.push(a)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,s=this.stride;for(let i=0,n=e.length;i<n;i+=s){const o=e[i],a=e[i+1];if(Xt(t,o,a))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=V(this.flatCoordinates,0,t,this.stride),this.changed()}}const q=Y;function Jt(r,t,e,s){const i=[];let n=$t();for(let o=0,a=e.length;o<a;++o){const l=e[o];n=Ut(r,t,l[0],s),i.push((n[0]+n[2])/2,(n[1]+n[3])/2),t=l[l.length-1]}return i}class A extends N{constructor(t,e,s){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!s&&!Array.isArray(t[0])){let i=this.getLayout();const n=t,o=[],a=[];for(let l=0,c=n.length;l<c;++l){const h=n[l];l===0&&(i=h.getLayout());const g=o.length,u=h.getEnds();for(let p=0,_=u.length;p<_;++p)u[p]+=g;C(o,h.getFlatCoordinates()),a.push(u)}e=i,t=o,s=a}e!==void 0&&s?(this.setFlatCoordinates(e,t),this.endss_=s):this.setCoordinates(t,e)}appendPolygon(t){let e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{const s=this.flatCoordinates.length;C(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let i=0,n=e.length;i<n;++i)e[i]+=s}this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const s=new A(this.flatCoordinates.slice(),this.layout,e);return s.applyProperties(this),s}closestPointXY(t,e,s,i){return i<M(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Et(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xt(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,s,i))}containsXY(t,e){return Mt(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return wt(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),$(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Gt(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=Jt(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=vt(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new q(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Lt(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=$(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],s=[];return e.length=Ft(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,s),new A(e,"XY",s)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(t===0)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const s=this.endss_[t].slice(),i=s[s.length-1];if(e!==0)for(let n=0,o=s.length;n<o;++n)s[n]-=e;return new I(this.flatCoordinates.slice(e,i),this.layout,s)}getPolygons(){const t=this.layout,e=this.flatCoordinates,s=this.endss_,i=[];let n=0;for(let o=0,a=s.length;o<a;++o){const l=s[o].slice(),c=l[l.length-1];if(n!==0)for(let g=0,u=l.length;g<u;++g)l[g]-=n;const h=new I(e.slice(n,c),t,l);i.push(h),n=c}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return Rt(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const s=At(this.flatCoordinates,0,t,this.stride,this.endss_);if(s.length===0)this.flatCoordinates.length=0;else{const i=s[s.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}const Qt=A;class te{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let s=e.dataProjection?v(e.dataProjection):this.readProjection(t);e.extent&&s&&s.getUnits()==="tile-pixels"&&(s=v(s),s.setWorldExtent(e.extent)),e={dataProjection:s,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return f()}readFeature(t,e){return f()}readFeatures(t,e){return f()}readGeometry(t,e){return f()}readProjection(t){return f()}writeFeature(t,e){return f()}writeFeatures(t,e){return f()}writeGeometry(t,e){return f()}}function B(r,t,e){const s=e?v(e.featureProjection):null,i=e?v(e.dataProjection):null;let n;if(s&&i&&!Dt(s,i)?n=(t?r.clone():r).transform(t?s:i,t?i:s):n=r,t&&e&&e.decimals!==void 0){const o=Math.pow(10,e.decimals),a=function(l){for(let c=0,h=l.length;c<h;++c)l[c]=Math.round(l[c]*o)/o;return l};n===r&&(n=r.clone()),n.applyTransform(a)}return n}class ee extends te{constructor(){super()}getType(){return"text"}readFeature(t,e){return this.readFeatureFromText(G(t),this.adaptOptions(e))}readFeatureFromText(t,e){return f()}readFeatures(t,e){return this.readFeaturesFromText(G(t),this.adaptOptions(e))}readFeaturesFromText(t,e){return f()}readGeometry(t,e){return this.readGeometryFromText(G(t),this.adaptOptions(e))}readGeometryFromText(t,e){return f()}readProjection(t){return this.readProjectionFromText(G(t))}readProjectionFromText(t){return this.dataProjection}writeFeature(t,e){return this.writeFeatureText(t,this.adaptOptions(e))}writeFeatureText(t,e){return f()}writeFeatures(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))}writeFeaturesText(t,e){return f()}writeGeometry(t,e){return this.writeGeometryText(t,this.adaptOptions(e))}writeGeometryText(t,e){return f()}}function G(r){return typeof r=="string"?r:""}const se=ee,ie={POINT:x,LINESTRING:b,POLYGON:I,MULTIPOINT:q,MULTILINESTRING:qt,MULTIPOLYGON:Qt},J="EMPTY",Q="Z",tt="M",ne="ZM",d={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},re={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class oe{constructor(t){this.wkt=t,this.index_=-1}isAlpha_(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}isNumeric_(t,e){return e=e!==void 0?e:!1,t>="0"&&t<="9"||t=="."&&!e}isWhiteSpace_(t){return t==" "||t=="	"||t=="\r"||t==`
`}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const t=this.nextChar_(),e=this.index_;let s=t,i;if(t=="(")i=d.LEFT_PAREN;else if(t==",")i=d.COMMA;else if(t==")")i=d.RIGHT_PAREN;else if(this.isNumeric_(t)||t=="-")i=d.NUMBER,s=this.readNumber_();else if(this.isAlpha_(t))i=d.TEXT,s=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(t==="")i=d.EOF;else throw new Error("Unexpected character: "+t)}return{position:e,value:s,type:i}}readNumber_(){let t;const e=this.index_;let s=!1,i=!1;do t=="."?s=!0:(t=="e"||t=="E")&&(i=!0),t=this.nextChar_();while(this.isNumeric_(t,s)||!i&&(t=="e"||t=="E")||i&&(t=="-"||t=="+"));return parseFloat(this.wkt.substring(e,this.index_--))}readText_(){let t;const e=this.index_;do t=this.nextChar_();while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()}}class ae{constructor(t){this.lexer_=t,this.token_={position:0,type:d.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(t){return this.token_.type==t}match(t){const e=this.isTokenType(t);return e&&this.consume_(),e}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let t="XY";const e=this.token_;if(this.isTokenType(d.TEXT)){const s=e.value;s===Q?t="XYZ":s===tt?t="XYM":s===ne&&(t="XYZM"),t!=="XY"&&this.consume_()}return t}parseGeometryCollectionText_(){if(this.match(d.LEFT_PAREN)){const t=[];do t.push(this.parseGeometry_());while(this.match(d.COMMA));if(this.match(d.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(d.LEFT_PAREN)){const t=this.parsePoint_();if(this.match(d.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(d.LEFT_PAREN)){const t=this.parsePointList_();if(this.match(d.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(d.LEFT_PAREN)){const t=this.parseLineStringTextList_();if(this.match(d.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(d.LEFT_PAREN)){let t;if(this.token_.type==d.LEFT_PAREN?t=this.parsePointTextList_():t=this.parsePointList_(),this.match(d.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(d.LEFT_PAREN)){const t=this.parseLineStringTextList_();if(this.match(d.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(d.LEFT_PAREN)){const t=this.parsePolygonTextList_();if(this.match(d.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePoint_(){const t=[],e=this.layout_.length;for(let s=0;s<e;++s){const i=this.token_;if(this.match(d.NUMBER))t.push(i.value);else break}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())}parsePointList_(){const t=[this.parsePoint_()];for(;this.match(d.COMMA);)t.push(this.parsePoint_());return t}parsePointTextList_(){const t=[this.parsePointText_()];for(;this.match(d.COMMA);)t.push(this.parsePointText_());return t}parseLineStringTextList_(){const t=[this.parseLineStringText_()];for(;this.match(d.COMMA);)t.push(this.parseLineStringText_());return t}parsePolygonTextList_(){const t=[this.parsePolygonText_()];for(;this.match(d.COMMA);)t.push(this.parsePolygonText_());return t}isEmptyGeometry_(){const t=this.isTokenType(d.TEXT)&&this.token_.value==J;return t&&this.consume_(),t}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const t=this.token_;if(this.match(d.TEXT)){const e=t.value;this.layout_=this.parseGeometryLayout_();const s=this.isEmptyGeometry_();if(e=="GEOMETRYCOLLECTION"){if(s)return new k([]);const o=this.parseGeometryCollectionText_();return new k(o)}const i=ie[e];if(!i)throw new Error("Invalid geometry type: "+e);let n;if(s)e=="POINT"?n=[NaN,NaN]:n=[];else switch(e){case"POINT":{n=this.parsePointText_();break}case"LINESTRING":{n=this.parseLineStringText_();break}case"POLYGON":{n=this.parsePolygonText_();break}case"MULTIPOINT":{n=this.parseMultiPointText_();break}case"MULTILINESTRING":{n=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{n=this.parseMultiPolygonText_();break}}return new i(n,this.layout_)}throw new Error(this.formatErrorMessage_())}}class le extends se{constructor(t){super(),t=t||{},this.splitCollection_=t.splitCollection!==void 0?t.splitCollection:!1}parse_(t){const e=new oe(t);return new ae(e).parse()}readFeatureFromText(t,e){const s=this.readGeometryFromText(t,e),i=new O;return i.setGeometry(s),i}readFeaturesFromText(t,e){let s=[];const i=this.readGeometryFromText(t,e);this.splitCollection_&&i.getType()=="GeometryCollection"?s=i.getGeometriesArray():s=[i];const n=[];for(let o=0,a=s.length;o<a;++o){const l=new O;l.setGeometry(s[o]),n.push(l)}return n}readGeometryFromText(t,e){const s=this.parse_(t);return B(s,!1,e)}writeFeatureText(t,e){const s=t.getGeometry();return s?this.writeGeometryText(s,e):""}writeFeaturesText(t,e){if(t.length==1)return this.writeFeatureText(t[0],e);const s=[];for(let n=0,o=t.length;n<o;++n)s.push(t[n].getGeometry());const i=new k(s);return this.writeGeometryText(i,e)}writeGeometryText(t,e){return it(B(t,!0,e))}}function et(r){const t=r.getCoordinates();return t.length===0?"":t.join(" ")}function he(r){const t=[],e=r.getPoints();for(let s=0,i=e.length;s<i;++s)t.push("("+et(e[s])+")");return t.join(",")}function ce(r){const t=[],e=r.getGeometries();for(let s=0,i=e.length;s<i;++s)t.push(it(e[s]));return t.join(",")}function j(r){const t=r.getCoordinates(),e=[];for(let s=0,i=t.length;s<i;++s)e.push(t[s].join(" "));return e.join(",")}function de(r){const t=[],e=r.getLineStrings();for(let s=0,i=e.length;s<i;++s)t.push("("+j(e[s])+")");return t.join(",")}function st(r){const t=[],e=r.getLinearRings();for(let s=0,i=e.length;s<i;++s)t.push("("+j(e[s])+")");return t.join(",")}function ue(r){const t=[],e=r.getPolygons();for(let s=0,i=e.length;s<i;++s)t.push("("+st(e[s])+")");return t.join(",")}function ge(r){const t=r.getLayout();let e="";return(t==="XYZ"||t==="XYZM")&&(e+=Q),(t==="XYM"||t==="XYZM")&&(e+=tt),e}const fe={Point:et,LineString:j,Polygon:st,MultiPoint:he,MultiLineString:de,MultiPolygon:ue,GeometryCollection:ce};function it(r){const t=r.getType(),e=fe[t],s=e(r);let i=re[t];if(typeof r.getFlatCoordinates=="function"){const n=ge(r);n.length>0&&(i+=" "+n)}return s.length===0?i+" "+J:i+"("+s+")"}const pe=le;const me={mounted(){const r=new Nt({source:new It}),t=new O({geometry:new x([0,0])}),e=new D({features:[t]}),s=new Z({source:e}),i=new Ot({layers:[r,s],target:"map",view:new St({center:[0,0],zoom:2})});"geolocation"in navigator?navigator.geolocation.getCurrentPosition(c=>{const{latitude:h,longitude:g}=c.coords,u=zt([g,h]);t.setGeometry(new x(u)),i.getView().setCenter(u),i.getView().setZoom(15)},c=>{console.error("Error getting geolocation:",c)}):console.error("Geolocation is not supported by your browser");const o=new pe().readFeature("POLYGON((10.689697265625 -25.0927734375, 34.595947265625 -20.1708984375, 38.814697265625 -35.6396484375, 13.502197265625 -39.1552734375, 10.689697265625 -25.0927734375))");new Z({source:new D({features:[o]}),opacity:.5});const a={a0:[1189,841],a1:[841,594],a2:[594,420],a3:[420,297],a4:[297,210],a5:[210,148]},l=document.getElementById("export-pdf");l.addEventListener("click",function(){l.disabled=!0,document.body.style.cursor="progress";const c=document.getElementById("format").value,h=document.getElementById("resolution").value,g=a[c],u=Math.round(g[0]*h/25.4),p=Math.round(g[1]*h/25.4),_=i.getSize(),m=i.getView().getResolution();i.once("rendercomplete",function(){const y=document.createElement("canvas");y.width=u,y.height=p;const P=y.getContext("2d");Array.prototype.forEach.call(document.querySelectorAll(".ol-layer canvas"),function(w){if(w.width>0){const U=w.parentNode.style.opacity;P.globalAlpha=U===""?1:Number(U);const nt=w.style.transform.match(/^matrix\(([^\(]*)\)$/)[1].split(",").map(Number);P.setTransform.apply(P,nt),P.drawImage(w,0,0)}}),P.globalAlpha=1,P.setTransform(1,0,0,1,0,0);const X=new Bt("landscape",void 0,c);X.addImage(y.toDataURL("image/jpeg"),"JPEG",0,0,g[0],g[1]),X.save("map.pdf"),i.setSize(_),i.getView().setResolution(m),l.disabled=!1,document.body.style.cursor="auto"});const T=[u,p];i.setSize(T);const E=Math.min(u/_[0],p/_[1]);i.getView().setResolution(m/E)},!1)}},_e={id:"app"},ye=Kt('<link rel="stylesheet" href="node_modules/ol/ol.css" data-v-809b3d99><div class="row-fluid" data-v-809b3d99><div class="span12" data-v-809b3d99><div id="map" class="map" data-v-809b3d99></div></div></div><form class="form" data-v-809b3d99><label for="format" data-v-809b3d99>Tamanho da Página </label><select id="format" data-v-809b3d99><option value="a0" data-v-809b3d99>A0 (carregamento lento)</option><option value="a1" data-v-809b3d99>A1</option><option value="a2" data-v-809b3d99>A2</option><option value="a3" data-v-809b3d99>A3</option><option value="a4" selected data-v-809b3d99>A4</option><option value="a5" data-v-809b3d99>A5 (carregamento rapido)</option></select><label for="resolution" data-v-809b3d99>Resolução </label><select id="resolution" data-v-809b3d99><option value="72" data-v-809b3d99>72 dpi (carregamento rápido)</option><option value="150" data-v-809b3d99>150 dpi</option><option value="300" data-v-809b3d99>300 dpi (carregamento lento)</option></select></form><button id="export-pdf" data-v-809b3d99>Exportar para PDF</button>',4),Ce=[ye];function Te(r,t,e,s,i,n){return Ht(),Vt("div",_e,Ce)}const Me=Zt(me,[["render",Te],["__scopeId","data-v-809b3d99"]]);export{Me as default};
